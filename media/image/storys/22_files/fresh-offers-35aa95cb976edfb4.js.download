(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1133],{56386:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fresh-offers",function(){return r(62905)}])},78194:function(e,t,r){"use strict";r.d(t,{o:function(){return l}});var n=r(52322),i=r(18071),s=r(72677),a=r(91648),o=r.n(a);function l(e){var t=e.banners,r=e.showSkeleton,a=(e.hasLoaded,e.className),l=e.colorType,d=e.sliderClassName,u=e.isHeaderVisible;return(0,n.jsxs)("div",{className:(0,s.d)(o().AmazingSlider,a,"4xl:px-4 container-4xl-w mx-auto"),children:[void 0===u||u?(0,n.jsx)("div",{className:(0,s.d)("w-full relative flex items-center justify-center",o().Header,o()["Header--".concat(void 0===l?"amazing":l)])}):null,(0,n.jsx)(i.J,{className:d,isAmazingPage:!0,disableFreeModeOnDesktop:!0,slides:t,showSkeleton:r})]})}},11452:function(e,t,r){"use strict";r.d(t,{N:function(){return d}});var n=r(52322),i=r(5632),s=r(59848),a=r(45227),o=r(41435),l=r(82332);function d(e){var t,r=e.categories,d=e.selectedIncredibleProducts,u=e.pending,c=e.className,f=e.colorType,p=(0,i.useRouter)();if((0,o.x)(null==d?void 0:d.products))return null;var m=((null==r?void 0:null===(t=r.find)||void 0===t?void 0:t.call(r,function(e){return(0,l.t)(e.categoryId,p.query[a.Tx.CATEGORY_ID])}))||{}).categoryCode;return(0,n.jsx)(s.J,{typoType:"picked",colorSet:null!=m?m:void 0===f?"amazing":f,hasLeftLinearPadding:!0,products:d.products,productsTitle:d.productsTitle,pending:u,className:c})}},24360:function(e,t,r){"use strict";r.d(t,{e:function(){return d}});var n=r(70865),i=r(96670),s=r(50930),a=r(14889),o=r(8155),l=r(41435);function d(e){var t,r,d=e.response,u=e.params,c=e.identifier,f=e.cpcData,p=(0,n.Z)((0,i.Z)((0,n.Z)({},u||{}),{sort:(null==u?void 0:u.sort)?null==u?void 0:u.sort:null==d?void 0:null===(t=d.sort)||void 0===t?void 0:t.sortDefaultOptionId}),c(d));a.s$||(window.plpProductsData=(0,s.Z)(window.plpProductsData).concat((0,s.Z)((null==f?void 0:f.hasMobileSidebar)?[null==f?void 0:null===(r=f.cpcProducts)||void 0===r?void 0:r[0]]:[]),(0,s.Z)((0,l.x)(null==d?void 0:d.products)?[]:Object.values(d.products).map(function(e,t){var r;return(0,n.Z)({productPage:null==d?void 0:null===(r=d.pager)||void 0===r?void 0:r.pagerCurrentPage,productIndex:t},e)}))),window.plpData={data:d,identifiers:p}),(0,l.x)(d)||(0,o.Wp)(d,p,f)}},62905:function(e,t,r){"use strict";r.r(t),r.d(t,{__getServerSideProps:function(){return U},default:function(){return B}}),r(2784);var n=r(40171),i=r(70865),s=r(96670),a=r(52322),o=r(97729),l=r.n(o),d=r(31909),u=r(47072),c=r(93723),f=r(1129),p=r(21211),m=r(53795),v=r(24687),g=r(59848),h=r(88413),x=r(45756),_=r(56370),b=r(26442),P=r(64177),O=r(55357),N=r(41701),I=r(41435),S=r(78194),y=r(11452),C=r(24360),T=r(70724),j=r(25388),D=r(93787),w=r(53213),k=r(92552),Z=r(1324),E=(0,Z.q)({url:"/fresh-offers/",transformer:function(e){var t,r=e.data||{},n=r.digiplus_incredible_products,i=r.incredible_products,s=r.lightening_deal_products,a=r.early_access_products,o=r.running_out_incredible_products,l=r.selected_incredible_products,d=r.incredible_banner_slider;return{freshOffersDigiplusIncredibleProducts:(0,D.$)({data:n}),freshOffersIncredibleProducts:(0,k.k)({data:i}),freshOffersLightningDealProducts:(0,D.$)({data:s}),freshOffersNormalIncredibleProducts:(0,D.$)({data:i}),freshOffersEarlyAccessIncredibleProducts:(0,w.D)({data:a}),freshOffersRunningOutIncredibleProducts:(0,D.$)({data:o}),freshOffersSelectedIncredibleProducts:(0,D.$)({data:l}),freshOffersSliderBanners:null==d?void 0:null===(t=d.map)||void 0===t?void 0:t.call(d,function(e){return(0,j.C)({data:e})})}},isPageGetRequest:!0}),R=(0,Z.q)({url:"/fresh-offers/products/",transformer:k.k}),A=r(51108),M=r.n(A);function L(e){return(0,a.jsx)(m._,(0,i.Z)({canShowSoldPercentage:!0},e))}var H=(0,N.D)({component:function(e){var t=e.ssrData||{},r=t.freshOffersLightningDealProducts,n=t.freshOffersSelectedIncredibleProducts,o=t.freshOffersRunningOutIncredibleProducts,m=t.freshOffersNormalIncredibleProducts,N=t.freshOffersEarlyAccessIncredibleProducts,C=t.freshOffersDigiplusIncredibleProducts,j=t.freshOffersSliderBanners,D=(0,P.C)().isDesktop,w=!!(null==N?void 0:N.productsIsTeasingPhase),k=(0,O.et)(),Z=k.data,E=k.fetchNextPage,R=k.hasNextPage,A=k.items,H=k.pending,B=k.params,U=k.fetchPage,q=k.pageNumber,z=k.changeParams,G=!(0,I.x)(A)||H;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"پیشنهادهای شگفت‌انگیز | فروشگاه اینترنتی دیجی‌کالا"})}),D?null:(0,a.jsxs)(c.D,{className:"bg-fresh-500",children:[(0,a.jsx)(c.D.BackButton,{color:"white"}),(0,a.jsx)(d.E,{src:"/statics/img/svg/amazing/text.svg",height:24}),(0,a.jsx)(c.D.SearchButton,{color:"white"})]}),(0,a.jsx)(S.o,{colorType:"fresh",sliderClassName:(0,I.x)(null==n?void 0:n.products)&&M().bottomRadius,banners:j,showSkeleton:!!H}),(0,a.jsx)("div",{className:"container-4xl-w mx-auto 4xl:px-4",children:(0,a.jsx)(y.N,{colorType:"fresh",className:M().bottomRadius,selectedIncredibleProducts:n,pending:H})}),(0,a.jsxs)("div",{className:"px-4 container-4xl-w mx-auto",children:[!(0,I.x)(null==o?void 0:o.products)&&(0,a.jsx)(p.O,(0,s.Z)((0,i.Z)({className:"mt-6",hasProductsContainer:!1},o),{productsTitleIcon:"comingSoon",bigDataCarouselName:h.ke,productCardProps:{canShowSoldPercentage:!0},titleClassName:"text-body1-strong pt-1"})),!(0,I.x)(null==m?void 0:m.products)&&(0,a.jsx)(f.q,(0,s.Z)((0,i.Z)({mode:f.D.INCREDIBLE,productsSeeMoreUrl:b.Xh},m),{className:"mt-6"})),(!(0,I.x)(null==N?void 0:N.products)||w)&&(0,a.jsx)(T._,(0,i.Z)({mode:w?_.X.TEASING_EARLY_ACCESS:_.X.EARLY_ACCESS,className:"mt-2",skeletonClassName:"mt-2",CROId:x.h.PLUS_CAROUSEL_FRESH},N))]}),!(0,I.x)(null==C?void 0:C.products)&&(0,a.jsx)(g.J,(0,i.Z)({className:"mt-6",colorSet:"plus",typoType:"plus",productsTitle:"شگفت‌انگیز سوپرمارکتی",link:null==C?void 0:C.productsSeeMoreUrl},C)),(0,a.jsxs)("div",{className:"px-4 container-4xl-w mx-auto",children:[!(0,I.x)(null==r?void 0:r.products)&&(0,a.jsx)(p.O,(0,s.Z)((0,i.Z)({className:"mt-6"},r),{bigDataCarouselName:h.A1,hasTitleLine:!1,hasProductsContainer:!1,titleClassName:"text-body1-strong pt-1"})),G&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(u.D,{title:"همه شگفت‌انگیز‌ها",className:"px-2",titleClassName:"mt-0 text-subtitle-strong"}),(0,a.jsx)(v.c,{pages:A,fetchNextPage:E,fetchPage:U,pageNumber:q,hasNextPage:R,pending:H,changeParams:z,data:Z,params:B,disableClassicPagination:!0,itemComponent:L})]})]})]})},getAPIMethods:function(e){return[{apiMethod:E,apiData:e.query}]},dataProps:{apiMethod:R,disabled:!1,shouldUseLocation:!1,onSuccess:function(e){var t=e.params,r=e.response;(0,C.e)({params:t,response:r,identifier:function(){return{pageName:h.lA}}})}},layoutProps:{desktopFullWidth:!0,chatKey:"fresh-offers",hasMobileHeader:!1}}),B=H,U=(0,n.I)({getSSRMethods:H.getAPIMethods,queryProps:H.dataProps})},53795:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var n=r(70865),i=r(26297),s=r(52322),a=r(2784),o=r(99896),l=r(96057),d=r(16991),u=r(64177);function c(e){var t=e.pending,r=(0,i.Z)(e,["pending"]),c=(0,u.C)().windowWidth,f=(0,a.useMemo)(function(){return c<d.j.SM?o.p:l.b},[c]);return(0,s.jsx)(f,(0,n.Z)({isDigiplusBadges:!0,isSkeleton:t,productTitleTag:"h2"},r))}},98884:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(79968);function i(e){var t=e.data||{},r=t.title,i=t.url;return{breadcrumbTitle:r,breadcrumbUrl:(0,n.f)({data:i})}}},44286:function(e,t,r){"use strict";r.d(t,{h:function(){return function e(t){var r,p=t.data||{},m=p.type,v=p.key,g=p.icon,h=p.title,x=p.options;if((0,a.t)(m,d.kQ.NESTED_LIST))return(null==x?void 0:x.reduce(function(t,r){return(0,s.Z)(t).concat([e({data:(0,i.Z)((0,n.Z)({},r),{key:{keyCode:v,keyId:r.id}})})])},[]))||[];var _=(0,a.t)(v,l.Tx.CATEGORIES)&&(0,a.t)(m,d.kQ.CATEGORY_LIST);return{filterKey:v,filterType:m,filterIcon:g,filterTitle:h,filterOptionMin:null==x?void 0:x.min,filterOptionMax:null==x?void 0:x.max,filterCROId:(0,u.c)(v),filterOptions:null==x?void 0:null===(r=x.map)||void 0===r?void 0:r.call(x,function(e){var t,r,n,i,s,a,l,d,u,p,m;return _?(0,c.n)({data:e}):(r=(t=e||{}).id,n=t.icon,i=t.title,s=t.title_en,a=t.title_fa,l=t.is_selected,d=t.visibility,u=t.hex_code,p=t.description,m=t.image,{filterOptionId:r,filterOptionIcon:n,filterOptionHexCode:u,filterOptionTitleEn:s,filterOptionVisibility:d,filterOptionIsSelected:l,filterOptionTitle:(0,o.U)(a)||i,filterOptionDescription:p,filterOptionImage:(0,f.W)({data:m}),filterOptionTitleFa:(0,o.U)(a)||i})})}}}});var n=r(70865),i=r(96670),s=r(50930),a=r(82332),o=r(52216),l=r(45227),d=r(43202),u=r(89086),c=r(90917),f=r(70582)},46932:function(e,t,r){"use strict";function n(e){var t=e.data||{};return{pagerTotalItems:t.total_items,pagerTotalPages:t.total_pages,pagerCurrentPage:t.current_page}}r.d(t,{d:function(){return n}})},92552:function(e,t,r){"use strict";r.d(t,{k:function(){return p}});var n=r(70865),i=r(96670),s=r(66383),a=r(5759),o=r(90917),l=r(73587),d=r(72394),u=r(46932),c=r(44286),f=r(98884);function p(e){var t,r,p=e.data,m=p||{},v=m.filters,g=m.pager,h=m.products,x=m.sort,_=m.category,b=m.breadcrumb;return{filters:Object.entries(v||{}).flatMap(function(e){var t=(0,s.Z)(e,2),r=t[0],i=t[1];return(0,c.h)({data:(0,n.Z)({key:r},i)})}),pager:(0,u.d)({data:g}),products:null==h?void 0:h.map(function(e){return(0,l.r)({data:e})}),sort:(0,d.G)({data:(0,i.Z)((0,n.Z)({},p),{default:(0,a.h)(x)?x:null==x?void 0:x.default})}),breadcrumbs:(null===(t=null==b?void 0:b.slice(0,-1))||void 0===t?void 0:null===(r=t.map)||void 0===r?void 0:r.call(t,function(e){return(0,f.W)({data:e})}))||[],category:(0,o.n)({data:_})}}},72394:function(e,t,r){"use strict";r.d(t,{G:function(){return i}});var n=r(64248);function i(e){var t,r=e.prefix,i=e.data||{},s=i.sort_options,a=i.default;return(0,n.Y)({sortDefaultOptionId:a,sortOptions:null==s?void 0:null===(t=s.map)||void 0===t?void 0:t.call(s,function(e){var t,r,n,i;return r=(t=e||{}).id,n=t.title_fa,i=t.title,{sortOptionId:r,sortOptionTitle:n||i}})},{prefix:r})}},51108:function(e){e.exports={bottomRadius:"styles_bottomRadius__YhSCn"}},91648:function(e){e.exports={Header:"styles_Header__1i_jV","Header--amazing":"styles_Header--amazing__RTIwB","Header--fresh":"styles_Header--fresh___A3AC"}}},function(e){e.O(0,[6547,5214,6451,6057,3570,6942,8364,8071,1129,9848,6124,4556,9774,2888,179],function(){return e(e.s=56386)}),_N_E=e.O()}]);